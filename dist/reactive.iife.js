var reactive=function(a){"use strict";var g=(t=>(t[t.CREATE=0]="CREATE",t[t.NEW=1]="NEW",t[t.UPDATE=2]="UPDATE",t[t.PREPEND=3]="PREPEND",t))(g||{});class v{constructor(e,n,r=0){this.superCtx=e,this.TYPE_ACTION=r,this.store=[],this.data=n}set data(e){const n=this.data;if(this.TYPE_ACTION===1||this.TYPE_ACTION===0?this._current=e:this.TYPE_ACTION===2?this._current=e:this.TYPE_ACTION===3&&(this.rendering=e),this.TYPE_ACTION!==3){if(this.store.includes(e))return;this.TYPE_ACTION===2?this.store.push(this._current=[...n,...this._current]):this.store.push(this._current)}}get data(){return this._current}get previousData(){return this.store.at(-1)}toString(){var e,n;return(n=(e=this.data)==null?void 0:e.toString())!=null?n:""}}function D(t,e,n){e.TYPE_ACTION=n,e.data=t}class d{constructor(e,n){this.superCtx=n,this.store=new Map,this.currentStoreState=new v(n,e)}get parentNode(){return this.currentParentNode}set parentNode(e){this.currentParentNode=e,typeof this.currentStoreState.parentNode!="undefined"&&this.currentStoreState.parentNode!==e&&(this.currentStoreState=new v(this.superCtx,this.currentStoreState.data)),this.currentStoreState.parentNode=e,this.store.set(e,this.currentStoreState)}get data(){return this.currentStoreState.data}addProxySelf(e){return this.proxySelf=e,this}set(e){D(e,this.currentStoreState,1)}append(e){D(e,this.proxySelf?this.proxySelf.currentStoreState:this.currentStoreState,2)}$setReturnData(e){return this.currentStoreState.TYPE_ACTION=3,this.currentStoreState.data=e,this}$map(e){if(Array.isArray(this.data))return this.currentStoreState.TYPE_ACTION=3,this.currentStoreState.data=this.data.map(e);throw new Error("data is not array")}is(e){return this.currentStoreState.data===e}toString(){return this.currentStoreState.toString()}[Symbol.toPrimitive](){return this.toString()}*[Symbol.iterator](){for(const e of this.currentStoreState.data)yield e}}class Y extends Text{constructor(e){super(e)}get text(){return this.data}set text(e){this.data=e}}class X{constructor(){this.resetWidgets=e=>{for(const n of e)n.innerHTML=""}}replaceChild(e,n,r){if(n.length===r.length)r.forEach((i,s)=>{i.replaceWith(n[s])});else if(r.length===1)r.at(0).replaceWith(...n);else{let i=r.at(-1).nextSibling;r.forEach(s=>s.remove()),n.forEach(s=>{e.insertBefore(s,i)})}}setText(e,n){e.textContent=n}createText(e){return new Y(e)}createWidget(e,n){return n?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e)}appendWidget(e,n){e.append(...Array.isArray(n)?n:[n])}setProperties(e,n){for(const r in n){const i=n[r];r.startsWith("on")?e.addEventListener(r.slice(2).toLowerCase(),i):e.setAttribute(r==="className"?"class":r,String(i))}}querySelector(e){return document.querySelector(e)}updateWidget(e){var n;const r=e.node.childNodes,i=r.item(e.updateIndex),s=i==null?void 0:i.previousSibling;if(!e.state)return;if(e.isStringable)return i.data=e.state;const o=Array.from(r).slice(e.updateIndex).slice(0,e.totalChilds),h=(n=o.at(-1))==null?void 0:n.nextSibling;if(e.typeAction===g.NEW){for(let S=0;S<o.length;S++)o[S].remove();if(r.length===0||!i&&!s&&!h)return e.node.append(...e.state);if(i.parentNode)return i.before(...e.state);if(h&&!i.parentNode)return h.before(...e.state);s.after(...e.state)}else e.typeAction===g.UPDATE&&e.node.append(...e.state)}}const w=new Map,c={createStore(t){w.has(t)||(w.set(t,new Map),Object.defineProperty(c,t,{get(){return w.get(t)}}))}};c.createStore("tickets");function N(t){const e=t.queue.at(t.ticket);return t.ticket+=1,t.queue.length===t.ticket&&(t.ticket=0),e}function E(t){return c.tickets.has(t)||c.tickets.set(t,{reInvoke:!1,ticket:0,queue:[]}),c.tickets.get(t)}c.createStore("callbacks");function j(t,e){const n=E(e);return n.reInvoke?N(n):(n.queue.push(t),t)}c.createStore("memo");function T(t,e){const n=j(t,e);return c.memo.has(n)||c.memo.set(n,!1),(...r)=>(c.memo.get(n)===!1&&c.memo.set(n,n(...r)),c.memo.get(n))}c.createStore("states");function C(t){const e=E(t);return e.reInvoke?N(e):e}function Z(t,e){return typeof t[e]=="function"?t[e].bind(t):t[e]}function A(t,e){const n=e?C(e):void 0;if(n instanceof d)return n;const r=new Proxy(new d(t,e),{get(i,s){if(s==="flatten")return n;if(s in i)return Z(i,s);if(typeof i.data[s]!="undefined")return!Array.isArray(i.data)&&i.data instanceof Object?i.data[s]:typeof i.data[s]=="function"?(...o)=>{if(typeof i.data[s].apply(i.data,o)!="undefined")return i.$setReturnData(i.data[s].apply(i.data,o))}:r;throw new Error("error proxy "+s)},set(i,s,o){if(s in i)i[s]=o;else if(s in i.data)i.data[s]=o;else return!1;return!0}});return typeof n=="object"&&n.queue.push(r),r}function ee(t,e){const{state:n,callback:r,option:i}=t!=null?t:{};return r?r.call(this,{state:n,option:i,children:e}):e}let y;const q=t=>t.find(e=>te(e.properties));function te({path:t}){const e=location.hash.length&&location.hash.startsWith("#")?location.hash.slice(1):"/",r=new globalThis.URLPattern(t,location.origin).exec(e,location.origin);return y=r?{path:r.input,params:r.groups}:null,y!==null}function ne({children:t,notFount:e}){const n=A(!1,this),r=A(n.data?e:q(t),this);return T(()=>{this.implementStates(r),window.addEventListener("hashchange",()=>{var i;n.data===!1&&n.set(!0),r.set((i=q(t))!=null?i:e)})},this)(),r.data.parentNode||(r.data.parentNode=this),r.data}function re(t){return t.render.parentNode=this,t.render}function ie(){return y.params}function se(){return y.path}function U(t){let e=t.flatten;t.currentStoreState.superCtx&&!e&&(e=C(t.currentStoreState.superCtx)),e&&!(e instanceof d)&&(e.reInvoke=!0)}function ae(t,e=()=>{}){for(const n of t){const r=n.set.bind(n),i=n.append.bind(n);n.set=s=>{U(n),r(s),e(n)},n.append=s=>{U(n),i(s),e(n)}}}function oe(...t){var e;for(const n of t){const[r,i]=Array.isArray(n)?n:[n],s=(e=r.currentStoreState.superCtx)!=null?e:i;if(typeof s=="undefined")throw new Error("el estado no tiene el contexto del componente");T(()=>{i&&(r.currentStoreState.superCtx=s),s.implementStates(r)},s)()}}function m(t){return Array.isArray(t)?t:[t]}function f(t){return typeof t.type=="string"?m(t.node):t.childs.map(L).flat()}function L(t){return t.node?t.node:ce(t).flat()}function ce(t){const e=[];for(const n of t.childs){let r=n;n instanceof Q&&(r=L(n)),e.push(r)}return e}function M(t){let e=t;for(;e&&typeof e.node!="object";)e=e.parentNode;return e}function _(t=!1){const e={};t&&(e.children=this.originalChilds);for(const n in this.properties)t&&n==="shareContext"?e.sharedContext=this.properties[n]:e[n==="className"?"class":n]=this.properties[n];return e}var de=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},u=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},l=(t,e,n)=>(de(t,e,"access private method"),n),P,$,b,F,W,V,I,B,R,z,H,G,O,J;const he=["string","number","boolean"],K={pos:0,current:0},p=class x{constructor(e,n,r,i){this.type=e,this.properties=n,this.widgedHelper=r,this.originalChilds=i,u(this,P),u(this,b),u(this,W),u(this,I),u(this,R),u(this,H),u(this,O),this.isReInvoke=!1,this.node=void 0,this.parentNode=void 0,this.childs=void 0,this._id=K.pos,this._ns=!1,this._fnparent=void 0,this._listenerOnCreate=()=>{},typeof this.type=="string"&&this.type==="svg"&&(this._ns=!0),n&&n.onCreate&&(this._listenerOnCreate=n.onCreate,delete this.properties.onCreate);for(let s of i)this._ns&&s instanceof x&&(s._ns=!0),typeof this.type=="function"&&s instanceof x&&(s._fnparent=this);K.pos++}createNodeAndChilds(){typeof this.type=="string"&&(this.node=this.widgedHelper.createWidget(this.type,this._ns),this.childs=m(this.originalChilds))}render(){if(this.node&&(this.widgedHelper.setProperties(this.node,_.call(this)),this.isReInvoke&&this.widgedHelper.resetWidgets&&this.widgedHelper.resetWidgets(f(this))),typeof this.type=="function"&&!this.childs){const e=_.call(this,!0),n=this.type.name==="Fragment"?this.type(e):this.type.call(this,e);this.childs=m(n)}return l(this,R,z).call(this),this._listenerOnCreate(this.node),this}getNodeWidget(){return typeof this.node=="object"?this:M(this)}implementStates(...e){ae(e,n=>{l(this,O,J).call(this,n.currentStoreState)})}};P=new WeakSet,$=function(t){if(t instanceof d&&!l(this,b,F).call(this,t))throw new Error("the execution of a state without an executing function is only allowed if they are strings, numbers or boolean values")},b=new WeakSet,F=function(t){return Array.isArray(t.data)?t.data.some(e=>typeof e=="object")===!1:he.includes(typeof t.data)},W=new WeakSet,V=function(t){var e,n;const r=typeof this.type=="function"?M(this):this,i=r.childs;for(let s=0,o;o=i[s];s++){if(this!==o||!(o instanceof d&&o.data===t.data))continue;l(this,P,$).call(this,o);const h={isStringable:!1,node:r.node,typeAction:t.TYPE_ACTION,updateIndex:s};o instanceof d&&Object.assign(h,{isStringable:!0,state:t.data,totalChilds:i.length}),o instanceof p&&typeof o.type=="function"&&(o.type.call(this,_.call(this,!0)),t.parentNode&&(h.state=(n=(e=t.rendering)==null?void 0:e.map(S=>f(S.render())).flat())!=null?n:f(t.data)),h.totalChilds=t.previousData.length),this.widgedHelper.updateWidget(h)}},I=new WeakSet,B=function(t){t.isReInvoke=!0;const e=t.type.call(t,_.call(t,!0)),n=f(t);let r;if(e instanceof p)e.isReInvoke=!0,e.render(),r=f(e),e.parentNode=t;else if(Array.isArray(e))r=e.map(i=>f(i.render()).at(0));else throw new Error("could not resolve nodes");this.widgedHelper.replaceChild(this.getNodeWidget().node,r,n),t.childs=m(e)},R=new WeakSet,z=function(){const t=this.getNodeWidget();for(let e of this.childs)(e instanceof p||e instanceof d)&&(e.parentNode=this),e instanceof p?(typeof this.type=="function"?e._fnparent=this.type.name!=="Fragment"?this:this._fnparent:typeof this.type=="string"&&this._fnparent&&(e._fnparent=this._fnparent),typeof e.type=="string"&&this._ns&&(e._ns=!0,e.createNodeAndChilds()),this.isReInvoke&&(e.createNodeAndChilds(),e.isReInvoke=!0),t&&typeof e.node=="object"&&this.widgedHelper.appendWidget(t.node,e.node),e.render()):e instanceof d?(this.implementStates(e),t&&l(this,H,G).call(this,this,t.node,e)):t&&this.widgedHelper.appendWidget(t.node,this.widgedHelper.createText(e))},H=new WeakSet,G=function(t,e,n){var r;const i=n.currentStoreState;Array.isArray(i.data)||Array.isArray(i.rendering)?((r=i.rendering)!=null?r:i.data).forEach(s=>{this.widgedHelper.appendWidget(e,s instanceof p?s.render().node:s)}):this.widgedHelper.appendWidget(e,n)},O=new WeakSet,J=function(t){return t.superCtx?l(this,I,B).call(this,t.superCtx):l(this,W,V).call(this,t)};let Q=p,k;function ue(t){k=t}class le{static Fragment({children:e}){return e}static createElement(e,n,...r){const i=Object.seal(new Q(e,n||{},k,r));return i.createNodeAndChilds(),i}}function fe(t,e){return e.node=k.querySelector(t),e.render(),e}return a.Execute=ee,a.HookStore=c,a.Reactive=le,a.ReactiveText=Y,a.Route=re,a.Routes=ne,a.State=d,a.StateAction=g,a.StoreState=v,a.WidgetHelper=X,a.addWidgetHelper=ue,a.createTicket=E,a.exec=T,a.flattenState=C,a.implementStates=oe,a.nextTicket=N,a.render=fe,a.useCallback=j,a.useParams=ie,a.usePath=se,a.useState=A,Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),a}({});
